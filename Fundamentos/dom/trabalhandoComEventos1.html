<!DOCTYPE html>
<html>

<head>
    <meta charset='UTF-8'>
    <title>Trabalhando com Eventos #01</title>
    <link rel='stylesheet' href='css/estilo.css'>
</head>

<body class="conteudo exercicio">
    <div>
            <!-- onclick="navegarem5Segundos(event)" -->
        <a espera-5-segundos href="https://google.com.br" >Google</a>
        
    </div>
    
    <div id=alerta style="display: none"></div>
    <div id=numberCountdown style="text-align:center"></div>

    <script>
         
         var g_iCount = new Number();
         // de 5 a 0 //
         var g_iCount = 6;

        const divAlerta = document.getElementById('alerta')// div com texto de alerta
        divAlerta.innerHTML = 'saindo em segundos:'//inserindo texto via innterhtml

         function navegarem5Segundos(e)
         {
            divAlerta.style.display = 'block' // mostra div escondida

            if((g_iCount - 1) >= 0){
                        g_iCount = g_iCount - 1;
                        numberCountdown.innerText = '00:00.0' + g_iCount; 
                        setTimeout('navegarem5Segundos()',1000);//chama o metodo navegarem5Segundos de 1 em 1 segundo
             }

             e.preventDefault()// aborta comportamento padrao
             setTimeout(()=>{
                    const link = e.target
                    window.location.href = link.href
             },5000)//espera segundos antes de ir pra outra pagina  
         }

         //alternativa 2
           const a = document.querySelector('[espera-5-segundos]')
           a.onclick = navegarem5Segundos

        

    </script>
</body>